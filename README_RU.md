<p align='center'>
    <a href='README.md'>EN</a> • <b>RU</b>
</p>

# Prydwen (HSR) Character Data Parser

Этот скрипт предназначен для получения и сохранения данных о персонажах с сайта [Prydwen](https://www.prydwen.gg). Он позволяет парсить данные для конкретного персонажа или обработать весь список персонажей. 

Скрипт ориентирован на сбор информации о персонажах из игры **Honkai: Star Rail (HSR)** и автоматически генерирует URL-адреса для персонажей на основе [списка с Prydwen](https://www.prydwen.gg/star-rail/characters).

---

## Особенности
- Парсинг данных для одного персонажа.
- Парсинг данных для всех персонажей из списка.
- Сохранение данных в файлы формата `.pickle`.
- Автоматическое создание URL-адресов для страниц персонажей.
- Обработка ошибок и вывод списка пропущенных персонажей.

---

## Установка

1. Клонируйте репозиторий:
   ```bash
   git clone <repository-url>
   cd <repository-folder>
   ```

2. Создайте и активируйте виртуальную среду:
   ```bash
   python -m venv venv
   
   source venv/bin/activate # On Linux
   venv\Scripts\activate # On Windows
   ```

3. Установите необходимые зависимости:
   ```bash
   pip install -r requirements.txt
   ```

---

## Использование

Запустите скрипт с помощью Python, используя следующие аргументы:

### 1. Парсинг данных для конкретного персонажа
Чтобы парсить данные для конкретного персонажа, используйте аргумент `--character` (или `-c`):
```bash
python main.py --character yunli
```

Замените `yunli` на имя нужного персонажа. Персонаж должен быть в предопределенном списке.

### 2. Парсинг данных для всех персонажей
Чтобы обработать весь список персонажей, используйте аргумент `--all` (или `-a`):
```bash
python main.py --all
```

---

## Аргументы командной строки
| Аргумент          | Алиас | Описание                                                |
|-------------------|-------|---------------------------------------------------------|
| `--character`     | `-c`  | Указать имя персонажа для парсинга данных.             |
| `--all`           | `-a`  | Обработать всех персонажей из списка.                  |

---

## Как это работает

1. **Входные данные:**
   - Скрипт использует предопределенный список имен персонажей.
   - URL-адреса для персонажей автоматически создаются в формате:
     ```
     https://www.prydwen.gg/star-rail/characters/<character-name>
     ```

2. **Выходные данные:**
   - Данные сохраняются в файлы формата `.pickle` в директории `data/`.
   - Каждый файл называется в честь персонажа (например, `yunli.pickle`).
   - Файл `.pickle` содержит словарь со следующей структурой:
     ```
     {
         "light cones": DataFrame с данными о световых конусах,
         "relics": DataFrame с данными о реликвиях,
         "planar sets": DataFrame с данными о планарных наборах,
         "additional planar sets": Словарь с данными о дополнительных планарных наборах,
         "relic main stats": DataFrame с основными характеристиками реликвий,
         "relic main stats dict": Словарь основных характеристик реликвий с уровнями важности,
         "substats": Строка с дополнительными характеристиками,
         "substats dict": Словарь дополнительных характеристик с уровнями важности,
         "substats details": Строка с деталями по дополнительным характеристикам,
         "substats comments": Строка с комментариями по характеристикам,
         "endgame stats": DataFrame с данными для эндгейма,
         "traces priority": Словарь с приоритетами трейсинга,
         "synergy": Список синергичных персонажей,
         "teams (MoC)": Список команд с рангом, процентом использования и раундами.
         "element": элемент персонажа.
     }
     ```

---

## Обработка ошибок
- Если персонажа не удалось обработать из-за превышения времени ожидания или другой ошибки, его имя добавляется в список пропущенных.
- Все пропущенные персонажи отображаются после завершения обработки.

---

## Примеры

### Обработка всех персонажей
```bash
python main.py --all
```

### Обработка конкретного персонажа
```bash
python main.py --character kafka
```

---

## Примечания
- Убедитесь, что у вас есть права на запись в директорию `data/`, чтобы сохранить выходные файлы.
- Скрипт включает задержку в 5 секунд между обработкой каждого персонажа, чтобы предотвратить возможные блокировки при парсинге.
- При необходимости вы можете изменить список персонажей в файле `main.py`.

## Developers

- [Delevoper Name](GitHub Profile Link)

## License

Проект HSR Character Data Parser распространяется на условиях лицензии MIT.
